<!DOCTYPE html>
<html>
  <head>
    <!--Import Google Icon Font-->
    <link href="fonts/roboto.css" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  </head>

  <body>
    <nav class="light-blue lighten-1" role="navigation">
      <div class="nav-wrapper container">
        <a id="logo-container" href="#" class="brand-logo">Beacon</a>
    </nav>

    <div class="container">
      <div class="section">
        <div class="row">
          <div class="col s12">
            <h5>Verbal Cues Demo</h5>
          </div>
        </div>
        <div class="row">
          <div class="col s12">
            <p>Make sure your volume is on.  When ready, press go.</p>
            <button id="start-button"
              class="waves-effect waves-light btn">
              Go
            </button>
          </div>
        </div>
      </div>
    </div>

    <!--JavaScript at end of body for optimized loading-->
    <script type="text/javascript" src="js/materialize.min.js"></script>
    <script>
      function speak(text, callback) {
        var utter = new SpeechSynthesisUtterance(text)
        utter.onend = callback;
        window.speechSynthesis.cancel();
        window.speechSynthesis.speak(utter);
      }

      function speakIntro() {
        var text = 'I am going to play two sounds.  You will be \
          asked to decide which is higher in pitch...';
        speak(text, function() {
          setTimeout(speakFirstPrompt, 500);
        });
      }

      function speakFirstPrompt() {
        var text = 'This is the first sound';
        speak(text, null);
      }

      var start_button = document.getElementById('start-button');
      start_button.addEventListener('click', function(e) {
        speakIntro();
      });
    </script>
  </body>
</html>